{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The code you write using Godot Swift is an extension of Godot. Before using any type defined by Godot in your own code, or exposing any custom class you wrote to the Godot editor, your module needs to be initialized. Godot will call an entry point you defined in your module to initialize it."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A Godot bridge "},{"type":"emphasis","inlineContent":[{"type":"text","text":"is"}]},{"type":"text","text":" the entry point."}]},{"anchor":"Create-a-bridge","level":3,"type":"heading","text":"Create a bridge"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Your module needs at least one bridge that Godot will call."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To define a bridge, simply make a struct, class or enum with an attached "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/Bridge()"},{"type":"text","text":" macro."}]},{"type":"codeListing","syntax":"swift","code":["@Bridge","enum MyGame {","    \/\/ Custom parameters","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"By using this macro, a C function is automatically generated. This is the function Godot will call to initialize your module."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The generated C function is named “"},{"type":"emphasis","inlineContent":[{"type":"text","text":"type"}]},{"type":"codeVoice","code":"_godot_init"},{"type":"text","text":"” where “"},{"type":"emphasis","inlineContent":[{"type":"text","text":"type"}]},{"type":"text","text":"” is the name of the type the macro is attached to, in lowercase. For example:"}]},{"type":"codeListing","syntax":"swift","code":["@Bridge","enum MyGame {","    \/\/ Custom parameters","}","","\/\/ Automatically generates:","@_cdecl(\"mygame_godot_init\")","func MyGame_godot_init(...) {","    \/\/ Automatically generated Godot initialization","}"]},{"style":"tip","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can make as many bridges as you want, providing several configurations for your needs."}]}],"type":"aside","name":"Tip"},{"anchor":"Expose-custom-Godot-classes","level":3,"type":"heading","text":"Expose custom Godot classes"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Because the macro automatically conforms the attached type to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/GodotBridge"},{"type":"text","text":" protocol, the information provided by the protocol is used to specify custom parameters for Godot, like what classes are exposed to the Godot editor."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To expose custom classes to Godot that you will be able to use within the Godot editor, define the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/GodotBridge\/exposedClasses-8xyiz"},{"type":"text","text":" static variable. For example:"}]},{"type":"codeListing","syntax":"swift","code":["@Bridge","enum MyGame {","    static let exposedClasses: [Object.Type] = [","        CharacterNode.self,","        CharacterDarkSideNode.self","    ]","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Subclasses you expose should be registered right after their superclasses. In the previous example, if "},{"type":"codeVoice","code":"CharacterDarkSideNode"},{"type":"text","text":" is a direct subclass of "},{"type":"codeVoice","code":"CharacterNode"},{"type":"text","text":", the two classes are correctly registered."}]},{"style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Only expose "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/Object"},{"type":"text","text":" classes that are defined using the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/Exposable()"},{"type":"text","text":" macro. See "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/CreatingCustomClass"},{"type":"text","text":"."}]}],"type":"aside","name":"Important"},{"anchor":"Provide-custom-initialization-and-deinitialization","level":3,"type":"heading","text":"Provide custom initialization and deinitialization"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you want to perform some custom operations during either the initialization or deinitialization of Godot, implement the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/GodotBridge\/initialize(level:)-23t26"},{"type":"text","text":" function or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/GodotBridge\/deinitialize(level:)-6ji95"},{"type":"text","text":" function. For example:"}]},{"type":"codeListing","syntax":"swift","code":["@Bridge","enum MyGame {","    static let exposedClasses: [Object.Type] = [...]","","    static func initialize(level: GodotInitializationLevel) {","        \/\/ Custom initialization","    }","","    static func deinitialize(level: GodotInitializationLevel) {","        \/\/ Custom deinitialization","    }","}"]},{"anchor":"Configure-your-Godot-project-to-work-with-your-Swift-module","level":3,"type":"heading","text":"Configure your Godot project to work with your Swift module"},{"type":"paragraph","inlineContent":[{"type":"text","text":"See "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Godot\/documentation\/Godot\/CreatingGDExtensionModule"},{"type":"text","text":" to learn how to setup your Godot project."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/godot\/creatinggodotbridge"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Godot\/documentation\/Godot\/CreatingGodotBridge","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Make an entry point for your module and initialize it with custom parameters."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Creating a Godot bridge","role":"article","modules":[{"name":"Godot"}]},"hierarchy":{"paths":[["doc:\/\/Godot\/documentation\/Godot"]]},"seeAlsoSections":[{"title":"Setting up a project","identifiers":["doc:\/\/Godot\/documentation\/Godot\/CreatingGDExtensionModule"],"generated":true}],"references":{"doc://Godot/documentation/Godot/GodotBridge/initialize(level:)-23t26":{"defaultImplementations":1,"role":"symbol","title":"initialize(level:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"initialize"},{"kind":"text","text":"("},{"kind":"externalParam","text":"level"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"GodotInitializationLevel","preciseIdentifier":"s:5Godot0A19InitializationLevelO"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"A custom point of initialization."}],"identifier":"doc:\/\/Godot\/documentation\/Godot\/GodotBridge\/initialize(level:)-23t26","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/godot\/godotbridge\/initialize(level:)-23t26"},"doc://Godot/documentation/Godot/CreatingGDExtensionModule":{"role":"article","title":"Defining a Godot extension","abstract":[{"type":"text","text":"Define a Godot extension in your Godot project to import your Swift code"}],"identifier":"doc:\/\/Godot\/documentation\/Godot\/CreatingGDExtensionModule","kind":"article","type":"topic","url":"\/documentation\/godot\/creatinggdextensionmodule"},"godot-swift_logo.png":{"alt":"A technology icon representing Godot Swift","type":"image","identifier":"godot-swift_logo.png","variants":[{"url":"\/images\/godot-swift_logo@2x.png","traits":["2x","light"]}]},"doc://Godot/documentation/Godot/GodotBridge/deinitialize(level:)-6ji95":{"defaultImplementations":1,"role":"symbol","title":"deinitialize(level:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"deinitialize"},{"kind":"text","text":"("},{"kind":"externalParam","text":"level"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"GodotInitializationLevel","preciseIdentifier":"s:5Godot0A19InitializationLevelO"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"A custom point of deinitialization."}],"identifier":"doc:\/\/Godot\/documentation\/Godot\/GodotBridge\/deinitialize(level:)-6ji95","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/godot\/godotbridge\/deinitialize(level:)-6ji95"},"doc://Godot/documentation/Godot":{"images":[{"type":"icon","identifier":"godot-swift_logo.png"}],"role":"collection","title":"Godot","abstract":[{"type":"text","text":"A library for interacting with Godot using Swift code."}],"identifier":"doc:\/\/Godot\/documentation\/Godot","kind":"symbol","type":"topic","url":"\/documentation\/godot"},"doc://Godot/documentation/Godot/GodotBridge/exposedClasses-8xyiz":{"defaultImplementations":1,"role":"symbol","title":"exposedClasses","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"exposedClasses"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"Object","preciseIdentifier":"s:5Godot6ObjectC"},{"kind":"text","text":".Type]"}],"abstract":[{"type":"text","text":"All the custom classes to expose to Godot."}],"identifier":"doc:\/\/Godot\/documentation\/Godot\/GodotBridge\/exposedClasses-8xyiz","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/godot\/godotbridge\/exposedclasses-8xyiz"},"doc://Godot/documentation/Godot/GodotBridge":{"role":"symbol","title":"GodotBridge","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"GodotBridge"}],"abstract":[{"type":"text","text":"A type that provides Godot initialization parameters."}],"identifier":"doc:\/\/Godot\/documentation\/Godot\/GodotBridge","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"GodotBridge"}],"url":"\/documentation\/godot\/godotbridge"},"doc://Godot/documentation/Godot/Object":{"role":"symbol","title":"Object","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Object"}],"abstract":[],"identifier":"doc:\/\/Godot\/documentation\/Godot\/Object","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Object"}],"url":"\/documentation\/godot\/object"},"doc://Godot/documentation/Godot/Bridge()":{"role":"symbol","title":"Bridge()","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Bridge"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Define and implements conformance of the GodotBridge protocol."}],"identifier":"doc:\/\/Godot\/documentation\/Godot\/Bridge()","kind":"symbol","type":"topic","url":"\/documentation\/godot\/bridge()"},"doc://Godot/documentation/Godot/Exposable()":{"role":"symbol","title":"Exposable()","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Exposable"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Enables a custom Godot class"},{"type":"text","text":" "},{"type":"text","text":"to be exposed to the Godot editor."}],"identifier":"doc:\/\/Godot\/documentation\/Godot\/Exposable()","kind":"symbol","type":"topic","url":"\/documentation\/godot\/exposable()"},"doc://Godot/documentation/Godot/CreatingCustomClass":{"role":"article","title":"Creating a custom Godot class","abstract":[{"type":"text","text":"Create a custom class that can be exposed to Godot."}],"identifier":"doc:\/\/Godot\/documentation\/Godot\/CreatingCustomClass","kind":"article","type":"topic","url":"\/documentation\/godot\/creatingcustomclass"}}}